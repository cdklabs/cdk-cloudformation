// Generated by cdk-import
import * as cdk from 'aws-cdk-lib';
import * as constructs from 'constructs';

/**
 * Creates a Project Access Token in GitLab
 *
 * @schema CfnAccessTokenProps
 */
export interface CfnAccessTokenProps {
  /**
   * The name of the Project Access Token to create.
   *
   * @schema CfnAccessTokenProps#Name
   */
  readonly name: string;

  /**
   * The ID (numeric) of the project for which this Access Token is created. The project should exist and the user creating the Access Token should have rights to do this on this project.
   *
   * @schema CfnAccessTokenProps#ProjectId
   */
  readonly projectId: number;

  /**
   * A valid access level. Default value is 40 (Maintainer). Other allowed values are 10 (Guest), 20 (Reporter), and 30 (Developer).
   *
   * @schema CfnAccessTokenProps#AccessLevel
   */
  readonly accessLevel?: number;

  /**
   * The scopes this Project Access Token will be used for. The list of supported scopes is in the official GitLab documentation here: https://docs.gitlab.com/ee/user/project/settings/project_access_tokens.html#scopes-for-a-project-access-token .
   *
   * @schema CfnAccessTokenProps#Scopes
   */
  readonly scopes: string[];
}

/**
 * Converts an object of type 'CfnAccessTokenProps' to JSON representation.
 */
/* eslint-disable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */
export function toJson_CfnAccessTokenProps(obj: CfnAccessTokenProps | undefined): Record<string, any> | undefined {
  if (obj === undefined) { return undefined; }
  const result = {
    'Name': obj.name,
    'ProjectId': obj.projectId,
    'AccessLevel': obj.accessLevel,
    'Scopes': obj.scopes?.map(y => y),
  };
  // filter undefined values
  return Object.entries(result).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: i[1] }), {});
}
/* eslint-enable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */


/**
 * A CloudFormation `GitLab::Projects::AccessToken`
 *
 * @cloudformationResource GitLab::Projects::AccessToken
 * @stability external
 * @link https://github.com/aws-ia/cloudformation-gitlab-resource-providers.git
 */
export class CfnAccessToken extends cdk.CfnResource {
  /**
  * The CloudFormation resource type name for this resource class.
  */
  public static readonly CFN_RESOURCE_TYPE_NAME = "GitLab::Projects::AccessToken";

  /**
   * Resource props.
   */
  public readonly props: CfnAccessTokenProps;

  /**
   * Attribute `GitLab::Projects::AccessToken.Id`
   * @link https://github.com/aws-ia/cloudformation-gitlab-resource-providers.git
   */
  public readonly attrId: number;

  /**
   * Create a new `GitLab::Projects::AccessToken`.
   *
   * @param scope - scope in which this resource is defined
   * @param id    - scoped id of the resource
   * @param props - resource properties
   */
  constructor(scope: constructs.Construct, id: string, props: CfnAccessTokenProps) {
    super(scope, id, { type: CfnAccessToken.CFN_RESOURCE_TYPE_NAME, properties: toJson_CfnAccessTokenProps(props)! });

    this.props = props;

    this.attrId = cdk.Token.asNumber(this.getAtt('Id'));
  }
}