{
  "Arn": "arn:aws:cloudformation:us-east-1::type/resource/a25d267c2b9b86b8d408fce3c7a4d94d34c90946/NetApp-FSxN-ClusterPeer",
  "Type": "RESOURCE",
  "TypeName": "NetApp::FSxN::ClusterPeer",
  "Description": "A cluster peer establishes a trusted network relationship between two FSx for ONTAP file systems, allowing them to securely communicate and exchange data. The relationship enables encrypted, authenticated data replication. The cluster peer can be used for disaster recovery across clusters in different regions, which provides flexibility for data protection and high availability. Once activated, you will need a preview key to consume this resource. Please reach out to Ng-fsx-cloudformation@netapp.com to get the key. To use this resource, you would need to first create the Link module.",
  "Schema": "{\n    \"typeName\": \"NetApp::FSxN::ClusterPeer\",\n    \"description\": \"A cluster peer establishes a trusted network relationship between two FSx for ONTAP file systems, allowing them to securely communicate and exchange data. The relationship enables encrypted, authenticated data replication. The cluster peer can be used for disaster recovery across clusters in different regions, which provides flexibility for data protection and high availability. Once activated, you will need a preview key to consume this resource. Please reach out to Ng-fsx-cloudformation@netapp.com to get the key. To use this resource, you would need to first create the Link module.\",\n    \"sourceUrl\": \"https://github.com/NetApp/NetApp-CloudFormation-FSx-ONTAP-provider\",\n    \"tagging\": {\n        \"taggable\": false\n    },\n    \"definitions\": {\n        \"SecretSource\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"SecretArn\": {\n                    \"description\": \"The ARN of the secret stored in AWS Secrets Manager.\",\n                    \"type\": \"string\",\n                    \"pattern\": \"^arn:aws(-(cn|us-gov))?:secretsmanager:(([a-z]+-)+[0-9])?:([0-9]{12})?:secret:[^.]+$\"\n                },\n                \"SecretKey\": {\n                    \"description\": \"Reference for the SecretKey. The actual password is stored in AWS Secret Manager.\",\n                    \"type\": \"string\",\n                    \"dependencies\": {\n                        \"SecretKey\": [\n                            \"SecretArn\"\n                        ]\n                    }\n                }\n            },\n            \"required\": [\n                \"SecretArn\",\n                \"SecretKey\"\n            ],\n            \"additionalProperties\": false\n        },\n        \"PasswordSource\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"Secret\": {\n                    \"description\": \"A reference to the source of the password, typically an AWS Secrets Manager secret.\",\n                    \"$ref\": \"#/definitions/SecretSource\"\n                }\n            },\n            \"required\": [\n                \"Secret\"\n            ],\n            \"additionalProperties\": false\n        },\n        \"FsxnDestination\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"FsxAdminPasswordSource\": {\n                    \"description\": \"The password source for the FSx admin user.\",\n                    \"$ref\": \"#/definitions/PasswordSource\"\n                },\n                \"FileSystemId\": {\n                    \"description\": \"The file system ID of the Amazon FSx for NetApp ONTAP file system in which the resource is created.\",\n                    \"type\": \"string\",\n                    \"pattern\": \"^(fs-[0-9a-f]{8,18})$\"\n                },\n                \"LinkArn\": {\n                    \"description\": \"The ARN of the AWS Lambda function that will be invoked to manage the resource.\",\n                    \"type\": \"string\",\n                    \"pattern\": \"^arn:aws(-(cn|us-gov))?:lambda:(([a-z]+-)+[0-9])?:([0-9]{12})?:function:[^.]+$\"\n                }\n            },\n            \"required\": [\n                \"FsxAdminPasswordSource\",\n                \"FileSystemId\",\n                \"LinkArn\"\n            ],\n            \"additionalProperties\": false\n        },\n        \"ClusterPeerStatus\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"State\": {\n                    \"description\": \"The current state of the cluster peer relationship. Possible values are 'available', 'partial', 'unavailable', 'pending' and 'unidentified'.\",\n                    \"enum\": [\"available\", \"partial\", \"unavailable\", \"pending\", \"unidentified\"],\n                    \"type\": \"string\"\n                },\n                \"UpdateTime\": {\n                    \"description\": \"The last time the status of the peer cluster was updated.\",\n                    \"type\": \"string\"\n                }\n            },\n            \"additionalProperties\": false\n        },\n        \"ClusterPeerInfo\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"Name\": {\n                    \"description\": \"Optional name for the cluster peer relationship. By default, it is the name of the remote cluster.\",\n                    \"type\": \"string\"\n                },\n                \"RemoteIpAddresses\": {\n                    \"description\": \"Addresses of the remote peers. Assumes existing intercluster LIFs of remote cluster if not provided.\",\n                    \"type\": \"array\",\n                    \"insertionOrder\": false,\n                    \"items\": {\n                        \"type\": \"string\"\n                    },\n                    \"minItems\": 1\n                },\n                \"IpSpace\": {\n                    \"description\": \"IPspace name of the local intercluster LIFs. Assumes Default IPspace if not provided.\",\n                    \"type\": \"string\",\n                    \"default\": \"Default\"\n                },\n                \"StatusInfo\": {\n                    \"description\": \"Status of the cluster peer relationship.\",\n                    \"$ref\": \"#/definitions/ClusterPeerStatus\"\n                }\n            },\n            \"additionalProperties\": false\n        }\n    },\n    \"properties\": {\n        \"FsxAdminPasswordSource\": {\n            \"description\": \"The password source for the FSx admin user.\",\n            \"$ref\": \"#/definitions/PasswordSource\"\n        },\n        \"FileSystemId\": {\n            \"description\": \"The file system ID of the Amazon FSx for NetApp ONTAP file system in which the resource is created.\",\n            \"type\": \"string\",\n            \"pattern\": \"^(fs-[0-9a-f]{8,18})$\"\n        },\n        \"LinkArn\": {\n            \"description\": \"The ARN of the AWS Lambda function that will be invoked to manage the resource.\",\n            \"type\": \"string\",\n            \"pattern\": \"^arn:aws(-(cn|us-gov))?:lambda:(([a-z]+-)+[0-9])?:([0-9]{12})?:function:[^.]+$\"\n        },\n        \"FsxnDestinationInfo\": {\n            \"description\": \"The destination information for the Cluster Peer relationship.\",\n            \"$ref\": \"#/definitions/FsxnDestination\"\n        },\n        \"SourceClusterPeerUUID\": {\n            \"description\": \"UUID of the source cluster peer relationship.\",\n            \"type\": \"string\"\n        },\n        \"SourceClusterPeer\": {\n            \"description\": \"Information about the source cluster peer, including name and IP addresses.\",\n            \"$ref\": \"#/definitions/ClusterPeerInfo\"\n        },\n        \"DestinationClusterPeerUUID\": {\n            \"description\": \"UUID of the destination cluster peer relationship.\",\n            \"type\": \"string\"\n        },\n        \"DestinationClusterPeer\": {\n            \"description\": \"Information about the destination cluster peer, including name and IP addresses.\",\n            \"$ref\": \"#/definitions/ClusterPeerInfo\"\n        },\n        \"Encryption\": {\n            \"description\": \"Encryption mechanism of the communication channel between the two peers.\",\n            \"enum\": [\"none\", \"tls_psk\"],\n            \"type\": \"string\",\n            \"default\": \"tls_psk\"\n        }\n    },\n    \"additionalProperties\": false,\n    \"required\": [\n        \"FsxAdminPasswordSource\",\n        \"FileSystemId\",\n        \"LinkArn\",\n        \"FsxnDestinationInfo\"\n    ],\n    \"createOnlyProperties\": [\n        \"/properties/FileSystemId\",\n        \"/properties/FsxAdminPasswordSource\",\n        \"/properties/FsxnDestinationInfo/FileSystemId\",\n        \"/properties/FsxnDestinationInfo/FsxAdminPasswordSource\"\n    ],\n    \"readOnlyProperties\": [\n        \"/properties/SourceClusterPeerUUID\",\n        \"/properties/SourceClusterPeer/StatusInfo\",\n        \"/properties/DestinationClusterPeerUUID\",\n        \"/properties/DestinationClusterPeer/StatusInfo\"\n    ],\n    \"primaryIdentifier\": [\n        \"/properties/FileSystemId\",\n        \"/properties/SourceClusterPeerUUID\",\n        \"/properties/FsxnDestinationInfo/FileSystemId\",\n        \"/properties/DestinationClusterPeerUUID\"\n    ],\n    \"typeConfiguration\": {\n        \"properties\": {\n            \"PreviewKey\": {\n                \"description\": \"A preview key is a generated key which is required to consume the resource once activated.\",\n                \"type\": \"string\"\n            }\n        },\n        \"additionalProperties\": false,\n        \"required\": [\n            \"PreviewKey\"\n        ]\n    },\n    \"handlers\": {\n        \"create\": {\n            \"permissions\": [\n                \"fsx:DescribeFileSystems\",\n                \"lambda:InvokeFunction\",\n                \"secretsmanager:GetSecretValue\"\n            ]\n        },\n        \"read\": {\n            \"permissions\": [\n                \"fsx:DescribeFileSystems\",\n                \"lambda:InvokeFunction\",\n                \"secretsmanager:GetSecretValue\"\n            ]\n        },\n        \"update\": {\n            \"permissions\": [\n                \"fsx:DescribeFileSystems\",\n                \"lambda:InvokeFunction\",\n                \"secretsmanager:GetSecretValue\"\n            ]\n        },\n        \"delete\": {\n            \"permissions\": [\n                \"fsx:DescribeFileSystems\",\n                \"lambda:InvokeFunction\",\n                \"secretsmanager:GetSecretValue\"\n            ]\n        },\n        \"list\": {\n            \"permissions\": [\n                \"fsx:DescribeFileSystems\",\n                \"lambda:InvokeFunction\",\n                \"secretsmanager:GetSecretValue\"\n            ]\n        }\n    }\n}\n",
  "ProvisioningType": "FULLY_MUTABLE",
  "DeprecatedStatus": "LIVE",
  "RequiredActivatedTypes": [],
  "Visibility": "PUBLIC",
  "SourceUrl": "https://github.com/NetApp/NetApp-CloudFormation-FSx-ONTAP-provider",
  "TimeCreated": "2025-01-01T08:41:57.633Z",
  "ConfigurationSchema": "{\n    \"properties\": {\n        \"PreviewKey\": {\n            \"description\": \"A preview key is a generated key which is required to consume the resource once activated.\",\n            \"type\": \"string\"\n        }\n    },\n    \"additionalProperties\": false,\n    \"required\": [\n        \"PreviewKey\"\n    ],\n    \"definitions\": {\n        \"SecretSource\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"SecretArn\": {\n                    \"description\": \"The ARN of the secret stored in AWS Secrets Manager.\",\n                    \"type\": \"string\",\n                    \"pattern\": \"^arn:aws(-(cn|us-gov))?:secretsmanager:(([a-z]+-)+[0-9])?:([0-9]{12})?:secret:[^.]+$\"\n                },\n                \"SecretKey\": {\n                    \"description\": \"Reference for the SecretKey. The actual password is stored in AWS Secret Manager.\",\n                    \"type\": \"string\",\n                    \"dependencies\": {\n                        \"SecretKey\": [\n                            \"SecretArn\"\n                        ]\n                    }\n                }\n            },\n            \"required\": [\n                \"SecretArn\",\n                \"SecretKey\"\n            ],\n            \"additionalProperties\": false\n        },\n        \"PasswordSource\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"Secret\": {\n                    \"description\": \"A reference to the source of the password, typically an AWS Secrets Manager secret.\",\n                    \"$ref\": \"#/definitions/SecretSource\"\n                }\n            },\n            \"required\": [\n                \"Secret\"\n            ],\n            \"additionalProperties\": false\n        },\n        \"FsxnDestination\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"FsxAdminPasswordSource\": {\n                    \"description\": \"The password source for the FSx admin user.\",\n                    \"$ref\": \"#/definitions/PasswordSource\"\n                },\n                \"FileSystemId\": {\n                    \"description\": \"The file system ID of the Amazon FSx for NetApp ONTAP file system in which the resource is created.\",\n                    \"type\": \"string\",\n                    \"pattern\": \"^(fs-[0-9a-f]{8,18})$\"\n                },\n                \"LinkArn\": {\n                    \"description\": \"The ARN of the AWS Lambda function that will be invoked to manage the resource.\",\n                    \"type\": \"string\",\n                    \"pattern\": \"^arn:aws(-(cn|us-gov))?:lambda:(([a-z]+-)+[0-9])?:([0-9]{12})?:function:[^.]+$\"\n                }\n            },\n            \"required\": [\n                \"FsxAdminPasswordSource\",\n                \"FileSystemId\",\n                \"LinkArn\"\n            ],\n            \"additionalProperties\": false\n        },\n        \"ClusterPeerStatus\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"State\": {\n                    \"description\": \"The current state of the cluster peer relationship. Possible values are 'available', 'partial', 'unavailable', 'pending' and 'unidentified'.\",\n                    \"enum\": [\n                        \"available\",\n                        \"partial\",\n                        \"unavailable\",\n                        \"pending\",\n                        \"unidentified\"\n                    ],\n                    \"type\": \"string\"\n                },\n                \"UpdateTime\": {\n                    \"description\": \"The last time the status of the peer cluster was updated.\",\n                    \"type\": \"string\"\n                }\n            },\n            \"additionalProperties\": false\n        },\n        \"ClusterPeerInfo\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"Name\": {\n                    \"description\": \"Optional name for the cluster peer relationship. By default, it is the name of the remote cluster.\",\n                    \"type\": \"string\"\n                },\n                \"RemoteIpAddresses\": {\n                    \"description\": \"Addresses of the remote peers. Assumes existing intercluster LIFs of remote cluster if not provided.\",\n                    \"type\": \"array\",\n                    \"insertionOrder\": false,\n                    \"items\": {\n                        \"type\": \"string\"\n                    },\n                    \"minItems\": 1\n                },\n                \"IpSpace\": {\n                    \"description\": \"IPspace name of the local intercluster LIFs. Assumes Default IPspace if not provided.\",\n                    \"type\": \"string\",\n                    \"default\": \"Default\"\n                },\n                \"StatusInfo\": {\n                    \"description\": \"Status of the cluster peer relationship.\",\n                    \"$ref\": \"#/definitions/ClusterPeerStatus\"\n                }\n            },\n            \"additionalProperties\": false\n        }\n    },\n    \"typeName\": \"NetApp::FSxN::ClusterPeer\"\n}",
  "PublisherId": "a25d267c2b9b86b8d408fce3c7a4d94d34c90946",
  "LatestPublicVersion": "1.0.0",
  "IsActivated": false
}