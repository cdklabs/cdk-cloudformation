{
  "Arn": "arn:aws:cloudformation:us-east-1::type/resource/a25d267c2b9b86b8d408fce3c7a4d94d34c90946/NetApp-FSxN-ExportPolicy",
  "Type": "RESOURCE",
  "TypeName": "NetApp::FSxN::ExportPolicy",
  "Description": "An export policy defines a set of access rules for NFS clients, specifying which clients or networks can access a volume and with what permissions. Each volume is tied to an export policy which enforces these rules to control client access and provide security and management over FSx for ONTAP volumes. Once activated, you will need a preview key to consume this resource. Please reach out to Ng-fsx-cloudformation@netapp.com to get the key. To use this resource, you would need to first create the Link module.",
  "Schema": "{\n  \"typeName\": \"NetApp::FSxN::ExportPolicy\",\n  \"description\": \"An export policy defines a set of access rules for NFS clients, specifying which clients or networks can access a volume and with what permissions. Each volume is tied to an export policy which enforces these rules to control client access and provide security and management over FSx for ONTAP volumes. Once activated, you will need a preview key to consume this resource. Please reach out to Ng-fsx-cloudformation@netapp.com to get the key. To use this resource, you would need to first create the Link module.\",\n  \"sourceUrl\": \"https://github.com/NetApp/NetApp-CloudFormation-FSx-ONTAP-provider\",\n  \"tagging\": {\n    \"taggable\": false\n  },\n  \"definitions\": {\n    \"SecretSource\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"SecretArn\": {\n          \"description\": \"The ARN of the secret stored in AWS Secrets Manager.\",\n          \"type\": \"string\",\n          \"pattern\": \"^arn:aws(-(cn|us-gov))?:secretsmanager:(([a-z]+-)+[0-9])?:([0-9]{12})?:secret:[^.]+$\"\n        },\n        \"SecretKey\": {\n          \"description\": \"Reference for the SecretKey. The actual password is stored in AWS Secret Manager.\",\n          \"type\": \"string\",\n          \"dependencies\": {\n            \"SecretKey\": [\n              \"SecretArn\"\n            ]\n          }\n        }\n      },\n      \"required\": [\n        \"SecretArn\",\n        \"SecretKey\"\n      ],\n      \"additionalProperties\": false\n    },\n    \"PasswordSource\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"Secret\": {\n          \"description\": \"A reference to the source of the password, typically an AWS Secrets Manager secret.\",\n          \"$ref\": \"#/definitions/SecretSource\"\n        }\n      },\n      \"required\": [\n        \"Secret\"\n      ],\n      \"additionalProperties\": false\n    },\n    \"SVM\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"Name\": {\n          \"description\": \"The name of the SVM.\",\n          \"type\": \"string\"\n        },\n        \"UUID\": {\n          \"description\": \"The UUID of the SVM.\",\n          \"type\": \"string\"\n        }\n      },\n      \"oneOf\": [\n        {\n          \"required\": [\"Name\"]\n        },\n        {\n          \"required\": [\"UUID\"]\n        }\n      ],\n      \"additionalProperties\": false\n    },\n    \"Rule\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"AllowDeviceCreation\": {\n          \"description\": \"Specifies whether or not device creation is allowed.\",\n          \"type\": \"boolean\",\n          \"default\": true\n        },\n        \"AllowSuid\": {\n          \"description\": \"Specifies whether or not SetUID bits in SETATTR Op is to be honored.\",\n          \"type\": \"boolean\",\n          \"default\": true\n        },\n        \"AnonymousUser\": {\n          \"description\": \"User ID to which anonymous users are mapped.\",\n          \"type\": \"string\",\n          \"pattern\": \"^[a-zA-Z0-9_-]+$\",\n          \"default\": \"65534\"\n        },\n        \"ChownMode\": {\n          \"description\": \"Specifies the chown mode, either 'restricted' or 'unrestricted'.\",\n          \"type\": \"string\",\n          \"enum\": [\n            \"restricted\",\n            \"unrestricted\"\n          ],\n          \"default\": \"restricted\"\n        },\n        \"Clients\": {\n          \"type\": \"array\",\n          \"insertionOrder\": false,\n          \"items\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"Match\": {\n                \"description\": \"Client IP address or range.\",\n                \"type\": \"string\",\n                \"pattern\": \"\\\\b(?:\\\\d{1,3}\\\\.){3}\\\\d{1,3}(?:\\\\/(?:\\\\d|[12]\\\\d|3[0-2]))\\\\b\"\n              }\n            },\n            \"required\": [\n              \"Match\"\n            ],\n            \"additionalProperties\": false\n          }\n        },\n        \"Index\": {\n          \"description\": \"The index of the export rule in the export policy.\",\n          \"type\": \"integer\"\n        },\n        \"NtfsUnixSecurity\": {\n          \"description\": \"Specifies the NTFS Unix security options, either 'fail' or 'ignore'.\",\n          \"type\": \"string\",\n          \"enum\": [ \"fail\", \"ignore\" ],\n          \"default\": \"fail\"\n        },\n        \"Protocols\": {\n          \"description\": \"Access protocol(s) that the export rule describes.\",\n          \"type\": \"array\",\n          \"default\": [\"any\"],\n          \"insertionOrder\": false,\n          \"items\": {\n            \"type\": \"string\",\n            \"enum\": [\"any\", \"nfs\", \"cifs\", \"flexcache\", \"nfs3\", \"nfs4\"]\n          }\n        },\n        \"RoRule\": {\n          \"description\": \"Authentication flavors that the read-only access rule governs.\",\n          \"type\": \"array\",\n          \"insertionOrder\": false,\n          \"items\": {\n            \"type\": \"string\",\n            \"enum\": [ \"any\", \"none\", \"never\", \"krb5\", \"krb5i\", \"krb5p\", \"ntlm\", \"sys\" ]\n          }\n        },\n        \"RwRule\": {\n          \"description\": \"Authentication flavors that the read/write access rule governs.\",\n          \"type\": \"array\",\n          \"insertionOrder\": false,\n          \"items\": {\n            \"type\": \"string\",\n            \"enum\": [ \"any\", \"none\", \"never\", \"krb5\", \"krb5i\", \"krb5p\", \"ntlm\", \"sys\" ]\n          }\n        },\n        \"Superuser\": {\n          \"description\": \"Authentication flavors that the superuser security type governs.\",\n          \"type\": \"array\",\n          \"insertionOrder\": false,\n          \"items\": {\n            \"type\": \"string\",\n            \"enum\": [ \"any\", \"none\", \"never\", \"krb5\", \"krb5i\", \"krb5p\", \"ntlm\", \"sys\" ]\n          }\n        }\n      },\n      \"required\": [],\n      \"additionalProperties\": false\n    }\n  },\n  \"properties\": {\n    \"FsxAdminPasswordSource\": {\n      \"description\": \"The password source for the FSx admin user.\",\n      \"$ref\": \"#/definitions/PasswordSource\"\n    },\n    \"FileSystemId\": {\n      \"description\": \"The file system ID of the Amazon FSx for NetApp ONTAP file system in which the resource is created.\",\n      \"type\": \"string\",\n      \"pattern\": \"^(fs-[0-9a-f]{8,18})$\"\n    },\n    \"LinkArn\": {\n      \"description\": \"The ARN of the AWS Lambda function that will be invoked to manage the resource.\",\n      \"type\": \"string\",\n      \"pattern\": \"^arn:aws(-(cn|us-gov))?:lambda:(([a-z]+-)+[0-9])?:([0-9]{12})?:function:[^.]+$\"\n    },\n    \"ID\": {\n      \"description\": \"The ID of the export policy.\",\n      \"type\": \"string\"\n    },\n    \"Name\": {\n      \"description\": \"The name of the export policy.\",\n      \"type\": \"string\",\n      \"pattern\": \"^[a-zA-Z0-9_-]+$\",\n      \"minLength\": 1,\n      \"maxLength\": 256\n    },\n    \"Rules\": {\n      \"description\": \"Rule(s) of an export policy. Used to create the export rule and populate the export policy with export rules in a single request.\",\n      \"type\": \"array\",\n      \"insertionOrder\": false,\n      \"items\": {\n        \"$ref\": \"#/definitions/Rule\"\n      },\n      \"required\": []\n    },\n    \"SVM\": {\n      \"description\": \"The SVM information associated with the export policy.\",\n      \"$ref\": \"#/definitions/SVM\"\n    }\n  },\n  \"additionalProperties\": false,\n  \"required\": [\n    \"FsxAdminPasswordSource\",\n    \"FileSystemId\",\n    \"LinkArn\",\n    \"Name\",\n    \"SVM\"\n  ],\n  \"createOnlyProperties\": [\n    \"/properties/FileSystemId\",\n    \"/properties/FsxAdminPasswordSource\",\n    \"/properties/SVM\"\n  ],\n  \"readOnlyProperties\": [\n    \"/properties/ID\",\n    \"/properties/Rules/*/Index\",\n    \"/properties/SVM/UUID\"\n  ],\n  \"primaryIdentifier\": [\n    \"/properties/FileSystemId\",\n    \"/properties/ID\"\n  ],\n  \"typeConfiguration\": {\n    \"properties\": {\n      \"PreviewKey\": {\n        \"description\": \"A preview key is a generated key which is required to consume the resource once activated.\",\n        \"type\": \"string\"\n      }\n    },\n    \"additionalProperties\": false,\n    \"required\": [\n      \"PreviewKey\"\n    ]\n  },\n  \"handlers\": {\n    \"create\": {\n      \"permissions\": [\n        \"fsx:DescribeFileSystems\",\n        \"lambda:InvokeFunction\",\n        \"secretsmanager:GetSecretValue\"\n      ]\n    },\n    \"read\": {\n      \"permissions\": [\n        \"fsx:DescribeFileSystems\",\n        \"lambda:InvokeFunction\",\n        \"secretsmanager:GetSecretValue\"\n      ]\n    },\n    \"update\": {\n      \"permissions\": [\n        \"fsx:DescribeFileSystems\",\n        \"lambda:InvokeFunction\",\n        \"secretsmanager:GetSecretValue\"\n      ]\n    },\n    \"delete\": {\n      \"permissions\": [\n        \"fsx:DescribeFileSystems\",\n        \"lambda:InvokeFunction\",\n        \"secretsmanager:GetSecretValue\"\n      ]\n    },\n    \"list\": {\n      \"permissions\": [\n        \"fsx:DescribeFileSystems\",\n        \"lambda:InvokeFunction\",\n        \"secretsmanager:GetSecretValue\"\n      ]\n    }\n  }\n}\n\n",
  "ProvisioningType": "FULLY_MUTABLE",
  "DeprecatedStatus": "LIVE",
  "RequiredActivatedTypes": [],
  "Visibility": "PUBLIC",
  "SourceUrl": "https://github.com/NetApp/NetApp-CloudFormation-FSx-ONTAP-provider",
  "TimeCreated": "2025-01-01T08:42:57.164Z",
  "ConfigurationSchema": "{\n    \"properties\": {\n        \"PreviewKey\": {\n            \"description\": \"A preview key is a generated key which is required to consume the resource once activated.\",\n            \"type\": \"string\"\n        }\n    },\n    \"additionalProperties\": false,\n    \"required\": [\n        \"PreviewKey\"\n    ],\n    \"definitions\": {\n        \"SecretSource\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"SecretArn\": {\n                    \"description\": \"The ARN of the secret stored in AWS Secrets Manager.\",\n                    \"type\": \"string\",\n                    \"pattern\": \"^arn:aws(-(cn|us-gov))?:secretsmanager:(([a-z]+-)+[0-9])?:([0-9]{12})?:secret:[^.]+$\"\n                },\n                \"SecretKey\": {\n                    \"description\": \"Reference for the SecretKey. The actual password is stored in AWS Secret Manager.\",\n                    \"type\": \"string\",\n                    \"dependencies\": {\n                        \"SecretKey\": [\n                            \"SecretArn\"\n                        ]\n                    }\n                }\n            },\n            \"required\": [\n                \"SecretArn\",\n                \"SecretKey\"\n            ],\n            \"additionalProperties\": false\n        },\n        \"PasswordSource\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"Secret\": {\n                    \"description\": \"A reference to the source of the password, typically an AWS Secrets Manager secret.\",\n                    \"$ref\": \"#/definitions/SecretSource\"\n                }\n            },\n            \"required\": [\n                \"Secret\"\n            ],\n            \"additionalProperties\": false\n        },\n        \"SVM\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"Name\": {\n                    \"description\": \"The name of the SVM.\",\n                    \"type\": \"string\"\n                },\n                \"UUID\": {\n                    \"description\": \"The UUID of the SVM.\",\n                    \"type\": \"string\"\n                }\n            },\n            \"oneOf\": [\n                {\n                    \"required\": [\n                        \"Name\"\n                    ]\n                },\n                {\n                    \"required\": [\n                        \"UUID\"\n                    ]\n                }\n            ],\n            \"additionalProperties\": false\n        },\n        \"Rule\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"AllowDeviceCreation\": {\n                    \"description\": \"Specifies whether or not device creation is allowed.\",\n                    \"type\": \"boolean\",\n                    \"default\": true\n                },\n                \"AllowSuid\": {\n                    \"description\": \"Specifies whether or not SetUID bits in SETATTR Op is to be honored.\",\n                    \"type\": \"boolean\",\n                    \"default\": true\n                },\n                \"AnonymousUser\": {\n                    \"description\": \"User ID to which anonymous users are mapped.\",\n                    \"type\": \"string\",\n                    \"pattern\": \"^[a-zA-Z0-9_-]+$\",\n                    \"default\": \"65534\"\n                },\n                \"ChownMode\": {\n                    \"description\": \"Specifies the chown mode, either 'restricted' or 'unrestricted'.\",\n                    \"type\": \"string\",\n                    \"enum\": [\n                        \"restricted\",\n                        \"unrestricted\"\n                    ],\n                    \"default\": \"restricted\"\n                },\n                \"Clients\": {\n                    \"type\": \"array\",\n                    \"insertionOrder\": false,\n                    \"items\": {\n                        \"type\": \"object\",\n                        \"properties\": {\n                            \"Match\": {\n                                \"description\": \"Client IP address or range.\",\n                                \"type\": \"string\",\n                                \"pattern\": \"\\\\b(?:\\\\d{1,3}\\\\.){3}\\\\d{1,3}(?:\\\\/(?:\\\\d|[12]\\\\d|3[0-2]))\\\\b\"\n                            }\n                        },\n                        \"required\": [\n                            \"Match\"\n                        ],\n                        \"additionalProperties\": false\n                    }\n                },\n                \"Index\": {\n                    \"description\": \"The index of the export rule in the export policy.\",\n                    \"type\": \"integer\"\n                },\n                \"NtfsUnixSecurity\": {\n                    \"description\": \"Specifies the NTFS Unix security options, either 'fail' or 'ignore'.\",\n                    \"type\": \"string\",\n                    \"enum\": [\n                        \"fail\",\n                        \"ignore\"\n                    ],\n                    \"default\": \"fail\"\n                },\n                \"Protocols\": {\n                    \"description\": \"Access protocol(s) that the export rule describes.\",\n                    \"type\": \"array\",\n                    \"default\": [\n                        \"any\"\n                    ],\n                    \"insertionOrder\": false,\n                    \"items\": {\n                        \"type\": \"string\",\n                        \"enum\": [\n                            \"any\",\n                            \"nfs\",\n                            \"cifs\",\n                            \"flexcache\",\n                            \"nfs3\",\n                            \"nfs4\"\n                        ]\n                    }\n                },\n                \"RoRule\": {\n                    \"description\": \"Authentication flavors that the read-only access rule governs.\",\n                    \"type\": \"array\",\n                    \"insertionOrder\": false,\n                    \"items\": {\n                        \"type\": \"string\",\n                        \"enum\": [\n                            \"any\",\n                            \"none\",\n                            \"never\",\n                            \"krb5\",\n                            \"krb5i\",\n                            \"krb5p\",\n                            \"ntlm\",\n                            \"sys\"\n                        ]\n                    }\n                },\n                \"RwRule\": {\n                    \"description\": \"Authentication flavors that the read/write access rule governs.\",\n                    \"type\": \"array\",\n                    \"insertionOrder\": false,\n                    \"items\": {\n                        \"type\": \"string\",\n                        \"enum\": [\n                            \"any\",\n                            \"none\",\n                            \"never\",\n                            \"krb5\",\n                            \"krb5i\",\n                            \"krb5p\",\n                            \"ntlm\",\n                            \"sys\"\n                        ]\n                    }\n                },\n                \"Superuser\": {\n                    \"description\": \"Authentication flavors that the superuser security type governs.\",\n                    \"type\": \"array\",\n                    \"insertionOrder\": false,\n                    \"items\": {\n                        \"type\": \"string\",\n                        \"enum\": [\n                            \"any\",\n                            \"none\",\n                            \"never\",\n                            \"krb5\",\n                            \"krb5i\",\n                            \"krb5p\",\n                            \"ntlm\",\n                            \"sys\"\n                        ]\n                    }\n                }\n            },\n            \"required\": [],\n            \"additionalProperties\": false\n        }\n    },\n    \"typeName\": \"NetApp::FSxN::ExportPolicy\"\n}",
  "PublisherId": "a25d267c2b9b86b8d408fce3c7a4d94d34c90946",
  "LatestPublicVersion": "1.0.0",
  "IsActivated": false
}