{
  "Arn": "arn:aws:cloudformation:us-east-1::type/resource/a25d267c2b9b86b8d408fce3c7a4d94d34c90946/NetApp-FSxN-SnapshotPolicy",
  "Type": "RESOURCE",
  "TypeName": "NetApp::FSxN::SnapshotPolicy",
  "Description": "A snapshot policy specifies when to create snapshots, how many to retain, and how to name them. A snapshot policy automatically creates and manages snapshots for a volume at defined intervals. The policy simplifies backup scheduling and maintains a reliable set of recovery points. Once activated, you need a preview key to consume this resource. Please reach out to Ng-fsx-cloudformation@netapp.com to get the key. To use this resource, you must first create the Link module.",
  "Schema": "{\"typeName\":\"NetApp::FSxN::SnapshotPolicy\",\"description\":\"A snapshot policy specifies when to create snapshots, how many to retain, and how to name them. A snapshot policy automatically creates and manages snapshots for a volume at defined intervals. The policy simplifies backup scheduling and maintains a reliable set of recovery points. Once activated, you need a preview key to consume this resource. Please reach out to Ng-fsx-cloudformation@netapp.com to get the key. To use this resource, you must first create the Link module.\",\"sourceUrl\":\"https://github.com/NetApp/NetApp-CloudFormation-FSx-ONTAP-provider\",\"tagging\":{\"taggable\":false},\"definitions\":{\"SecretSource\":{\"type\":\"object\",\"properties\":{\"SecretArn\":{\"description\":\"The ARN of the secret stored in AWS Secrets Manager.\",\"type\":\"string\",\"pattern\":\"^arn:aws(-(cn|us-gov))?:secretsmanager:(([a-z]+-)+[0-9])?:([0-9]{12})?:secret:[^.]+$\"},\"SecretKey\":{\"description\":\"Reference for the SecretKey. The actual password is stored in AWS Secret Manager.\",\"type\":\"string\",\"dependencies\":{\"SecretKey\":[\"SecretArn\"]}}},\"required\":[\"SecretArn\",\"SecretKey\"],\"additionalProperties\":false},\"PasswordSource\":{\"type\":\"object\",\"properties\":{\"Secret\":{\"description\":\"A reference to the source of the password, typically an AWS Secrets Manager secret.\",\"$ref\":\"#/definitions/SecretSource\"}},\"required\":[\"Secret\"],\"additionalProperties\":false},\"SVM\":{\"type\":\"object\",\"properties\":{\"Name\":{\"description\":\"The name of the SVM.\",\"type\":\"string\"},\"UUID\":{\"description\":\"The UUID of the SVM.\",\"type\":\"string\"}},\"oneOf\":[{\"required\":[\"Name\"]},{\"required\":[\"UUID\"]}],\"additionalProperties\":false},\"SnapshotPolicyCopy\":{\"type\":\"object\",\"properties\":{\"Count\":{\"description\":\"The number of snapshot copies to maintain for this schedule.\",\"type\":\"integer\",\"minimum\":0,\"maximum\":1023},\"ScheduleName\":{\"description\":\"Schedule name at which snapshot copies are captured on the volume.\",\"type\":\"string\"},\"Prefix\":{\"description\":\"The prefix to use while creating snapshot copies at regular intervals.\",\"type\":\"string\"},\"RetentionPeriod\":{\"description\":\"Specifies the retention period of snapshot copies. The retention value represents a duration and must follow the ISO-8601 duration format. The retention period can be in years, months, days, hours, or minutes. For example 'P10Y' represents a duration of 10 years. The retention string must contain only a single time element (years, months, days, hours, or minutes).\",\"type\":\"string\",\"pattern\":\"^(P(\\\\d+Y|\\\\d+M|\\\\d+D|T\\\\d+H|T\\\\d+M))$\"},\"SnapmirrorLabel\":{\"description\":\"Label for SnapMirror operations. SnapMirror Label name must contain at least one character and must not contain leading or trailing white space.\",\"type\":\"string\"}},\"required\":[\"Count\",\"ScheduleName\"],\"additionalProperties\":false}},\"properties\":{\"FsxAdminPasswordSource\":{\"description\":\"The password source for the FSx admin user.\",\"$ref\":\"#/definitions/PasswordSource\"},\"FileSystemId\":{\"description\":\"The file system ID of the Amazon FSx for NetApp ONTAP file system in which the resource is created.\",\"type\":\"string\",\"pattern\":\"^(fs-[0-9a-f]{8,18})$\"},\"LinkArn\":{\"description\":\"The ARN of the AWS Lambda function that will be invoked to manage the resource.\",\"type\":\"string\",\"pattern\":\"^arn:aws(-(cn|us-gov))?:lambda:(([a-z]+-)+[0-9])?:([0-9]{12})?:function:[^.]+$\"},\"Name\":{\"description\":\"The name of the snapshot policy.\",\"type\":\"string\",\"pattern\":\"^[a-zA-Z0-9_-]{1,256}$\"},\"UUID\":{\"description\":\"The UUID of the snapshot policy.\",\"type\":\"string\"},\"SVM\":{\"description\":\"The SVM information associated with the snapshot policy.\",\"$ref\":\"#/definitions/SVM\"},\"Copies\":{\"description\":\"The snapshot copies that define the policy.\",\"type\":\"array\",\"insertionOrder\":false,\"items\":{\"$ref\":\"#/definitions/SnapshotPolicyCopy\"},\"minItems\":1,\"maxItems\":5}},\"additionalProperties\":false,\"required\":[\"FsxAdminPasswordSource\",\"FileSystemId\",\"LinkArn\",\"Name\",\"Copies\"],\"createOnlyProperties\":[\"/properties/FileSystemId\",\"/properties/FsxAdminPasswordSource\",\"/properties/SVM\",\"/definitions/SnapshotPolicyCopy/Prefix\"],\"readOnlyProperties\":[\"/properties/UUID\"],\"primaryIdentifier\":[\"/properties/FileSystemId\",\"/properties/UUID\"],\"typeConfiguration\":{\"properties\":{\"PreviewKey\":{\"description\":\"A preview key is a generated key which is required to consume the resource once activated.\",\"type\":\"string\"}},\"additionalProperties\":false,\"required\":[\"PreviewKey\"]},\"handlers\":{\"create\":{\"permissions\":[\"fsx:DescribeFileSystems\",\"lambda:InvokeFunction\",\"secretsmanager:GetSecretValue\"]},\"read\":{\"permissions\":[\"fsx:DescribeFileSystems\",\"lambda:InvokeFunction\",\"secretsmanager:GetSecretValue\"]},\"update\":{\"permissions\":[\"fsx:DescribeFileSystems\",\"lambda:InvokeFunction\",\"secretsmanager:GetSecretValue\"]},\"delete\":{\"permissions\":[\"fsx:DescribeFileSystems\",\"lambda:InvokeFunction\",\"secretsmanager:GetSecretValue\"]},\"list\":{\"permissions\":[\"fsx:DescribeFileSystems\",\"lambda:InvokeFunction\",\"secretsmanager:GetSecretValue\"]}}}",
  "ProvisioningType": "FULLY_MUTABLE",
  "DeprecatedStatus": "LIVE",
  "RequiredActivatedTypes": [],
  "Visibility": "PUBLIC",
  "SourceUrl": "https://github.com/NetApp/NetApp-CloudFormation-FSx-ONTAP-provider",
  "TimeCreated": "2025-02-16T15:02:01.762Z",
  "ConfigurationSchema": "{\n    \"properties\": {\n        \"PreviewKey\": {\n            \"description\": \"A preview key is a generated key which is required to consume the resource once activated.\",\n            \"type\": \"string\"\n        }\n    },\n    \"additionalProperties\": false,\n    \"required\": [\n        \"PreviewKey\"\n    ],\n    \"definitions\": {\n        \"SecretSource\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"SecretArn\": {\n                    \"description\": \"The ARN of the secret stored in AWS Secrets Manager.\",\n                    \"type\": \"string\",\n                    \"pattern\": \"^arn:aws(-(cn|us-gov))?:secretsmanager:(([a-z]+-)+[0-9])?:([0-9]{12})?:secret:[^.]+$\"\n                },\n                \"SecretKey\": {\n                    \"description\": \"Reference for the SecretKey. The actual password is stored in AWS Secret Manager.\",\n                    \"type\": \"string\",\n                    \"dependencies\": {\n                        \"SecretKey\": [\n                            \"SecretArn\"\n                        ]\n                    }\n                }\n            },\n            \"required\": [\n                \"SecretArn\",\n                \"SecretKey\"\n            ],\n            \"additionalProperties\": false\n        },\n        \"PasswordSource\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"Secret\": {\n                    \"description\": \"A reference to the source of the password, typically an AWS Secrets Manager secret.\",\n                    \"$ref\": \"#/definitions/SecretSource\"\n                }\n            },\n            \"required\": [\n                \"Secret\"\n            ],\n            \"additionalProperties\": false\n        },\n        \"SVM\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"Name\": {\n                    \"description\": \"The name of the SVM.\",\n                    \"type\": \"string\"\n                },\n                \"UUID\": {\n                    \"description\": \"The UUID of the SVM.\",\n                    \"type\": \"string\"\n                }\n            },\n            \"oneOf\": [\n                {\n                    \"required\": [\n                        \"Name\"\n                    ]\n                },\n                {\n                    \"required\": [\n                        \"UUID\"\n                    ]\n                }\n            ],\n            \"additionalProperties\": false\n        },\n        \"SnapshotPolicyCopy\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"Count\": {\n                    \"description\": \"The number of snapshot copies to maintain for this schedule.\",\n                    \"type\": \"integer\",\n                    \"minimum\": 0,\n                    \"maximum\": 1023\n                },\n                \"ScheduleName\": {\n                    \"description\": \"Schedule name at which snapshot copies are captured on the volume.\",\n                    \"type\": \"string\"\n                },\n                \"Prefix\": {\n                    \"description\": \"The prefix to use while creating snapshot copies at regular intervals.\",\n                    \"type\": \"string\"\n                },\n                \"RetentionPeriod\": {\n                    \"description\": \"Specifies the retention period of snapshot copies. The retention value represents a duration and must follow the ISO-8601 duration format. The retention period can be in years, months, days, hours, or minutes. For example 'P10Y' represents a duration of 10 years. The retention string must contain only a single time element (years, months, days, hours, or minutes).\",\n                    \"type\": \"string\",\n                    \"pattern\": \"^(P(\\\\d+Y|\\\\d+M|\\\\d+D|T\\\\d+H|T\\\\d+M))$\"\n                },\n                \"SnapmirrorLabel\": {\n                    \"description\": \"Label for SnapMirror operations. SnapMirror Label name must contain at least one character and must not contain leading or trailing white space.\",\n                    \"type\": \"string\"\n                }\n            },\n            \"required\": [\n                \"Count\",\n                \"ScheduleName\"\n            ],\n            \"additionalProperties\": false\n        }\n    },\n    \"typeName\": \"NetApp::FSxN::SnapshotPolicy\"\n}",
  "PublisherId": "a25d267c2b9b86b8d408fce3c7a4d94d34c90946",
  "LatestPublicVersion": "1.1.0",
  "IsActivated": false
}