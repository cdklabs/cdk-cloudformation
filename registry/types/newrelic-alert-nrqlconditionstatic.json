{
  "Arn": "arn:aws:cloudformation:us-east-1::type/resource/c830e97710da0c9954d80ba8df021e5439e7134b/NewRelic-Alert-NrqlConditionStatic",
  "Type": "RESOURCE",
  "TypeName": "NewRelic::Alert::NrqlConditionStatic",
  "Description": "Manage New Relic NRQL Static Alerts Condition",
  "Schema": "{\n  \"typeName\": \"NewRelic::Alert::NrqlConditionStatic\",\n  \"description\": \"Manage New Relic NRQL Static Alerts Condition\",\n  \"sourceUrl\": \"https://github.com/aws-ia/cloudformation-newrelic-resource-providers.git\",\n  \"documentationUrl\": \"https://github.com/aws-ia/cloudformation-newrelic-resource-providers\",\n  \"typeConfiguration\": {\n    \"properties\": {\n      \"NewRelicAccess\": {\n        \"$ref\": \"#/definitions/NewRelicAccess\"\n      }\n    },\n    \"additionalProperties\": false,\n    \"required\": [\n      \"NewRelicAccess\"\n    ]\n  },\n  \"definitions\": {\n    \"NewRelicAccess\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"Endpoint\": {\n          \"type\": \"string\",\n          \"description\": \"Endpoint to the NerdGraph API.\"\n        },\n        \"ApiKey\": {\n          \"type\": \"string\",\n          \"description\": \"API key for the New Relic NerdGraph.\"\n        }\n      },\n      \"required\": [\n        \"Endpoint\",\n        \"ApiKey\"\n      ],\n      \"additionalProperties\": false\n    },\n    \"ConditionInput\": {\n      \"type\": \"object\",\n      \"description\": \"Input settings for the static NRQL condition.\",\n      \"properties\": {\n        \"Description\": {\n          \"type\": \"string\",\n          \"description\": \"The custom violation description.\"\n        },\n        \"Enabled\": {\n          \"type\": \"boolean\",\n          \"description\": \"Whether the NRQL condition is enabled.\"\n        },\n        \"Expiration\": {\n          \"type\": \"object\",\n          \"description\": \"Settings for how violations are opened or closed when a signal expires.\",\n          \"properties\": {\n            \"CloseViolationsOnExpiration\": {\n              \"type\": \"boolean\",\n              \"description\": \"Whether to close all open violations when the signal expires. Defaults to true.\",\n              \"default\": true\n            },\n            \"ExpirationDuration\": {\n              \"type\": \"integer\",\n              \"description\": \"The amount of time (in seconds) to wait before considering if the signal has been lost. Max value of 172800 (48 hours).\"\n            },\n            \"OpenViolationOnExpiration\": {\n              \"type\": \"boolean\",\n              \"description\": \"Whether to create a new \\\"lost signal\\\" violation to capture that the signal expired. Defaults to false.\",\n              \"default\": false\n            }\n          },\n          \"additionalProperties\": false\n        },\n        \"Name\": {\n          \"type\": \"string\",\n          \"description\": \"Name of the NRQL condition.\"\n        },\n        \"Nrql\": {\n          \"type\": \"object\",\n          \"description\": \"The NRQL query that defines the signal for the condition.\",\n          \"properties\": {\n            \"Query\": {\n              \"type\": \"string\",\n              \"description\": \"NRQL syntax that defines the query.\"\n            }\n          },\n          \"required\": [\n            \"Query\"\n          ],\n          \"additionalProperties\": false\n        },\n        \"RunbookUrl\": {\n          \"type\": \"string\",\n          \"description\": \"Runbook URL.\"\n        },\n        \"Signal\": {\n          \"type\": \"object\",\n          \"description\": \"Configuration that defines the signal that the NRQL condition will use to evaluate.\",\n          \"properties\": {\n            \"AggregationDelay\": {\n              \"type\": \"integer\",\n              \"default\": 120,\n              \"description\": \"How long we wait for data that belongs in each aggregation window\"\n            },\n            \"AggregationMethod\": {\n              \"type\": \"string\",\n              \"enum\": [\n                \"CADENCE\",\n                \"EVENT_FLOW\",\n                \"EVENT_TIMER\"\n              ],\n              \"description\": \"The method that determines when we consider an aggregation window to be complete so that we can evaluate the signal for violations\",\n              \"default\": \"EVENT_FLOW\"\n            },\n            \"AggregationTimer\": {\n              \"type\": \"integer\",\n              \"description\": \"How long we wait after each data point arrives to make sure we've processed the whole batch\",\n              \"default\": 60\n            },\n            \"AggregationWindow\": {\n              \"description\": \"Aggregation window controls the duration of the time window used to evaluate the NRQL query, in seconds\",\n              \"type\": \"integer\",\n              \"default\": 60\n            },\n            \"FillOption\": {\n              \"description\": \"Option that determines the type of value that should be used to fill gaps (empty windows)\",\n              \"type\": \"string\",\n              \"enum\": [\n                \"LAST_VALUE\",\n                \"NONE\",\n                \"STATIC\"\n              ],\n              \"default\": \"STATIC\"\n            },\n            \"FillValue\": {\n              \"description\": \"If using the static fill option, this the value used for filling\",\n              \"type\": \"integer\",\n              \"default\": 0\n            },\n            \"SlideBy\": {\n              \"description\": \"This setting gathers data in overlapping time windows to smooth the chart line, making it easier to spot trends\",\n              \"type\": \"integer\"\n            }\n          },\n          \"additionalProperties\": false\n        },\n        \"Terms\": {\n          \"type\": \"object\",\n          \"description\": \"List of critical and warning terms for the condition\",\n          \"properties\": {\n            \"Operator\": {\n              \"type\": \"string\",\n              \"description\": \"Operator used to compare against the threshold.\",\n              \"enum\": [\n                \"ABOVE\",\n                \"ABOVE_OR_EQUALS\",\n                \"BELOW\",\n                \"BELOW_OR_EQUALS\",\n                \"EQUALS\",\n                \"NOT_EQUALS\"\n              ]\n            },\n            \"Priority\": {\n              \"type\": \"string\",\n              \"description\": \"Priority determines whether notifications will be sent for violations or not.\",\n              \"enum\": [\n                \"CRITICAL\",\n                \"WARNING\"\n              ]\n            },\n            \"Threshold\": {\n              \"type\": \"integer\",\n              \"description\": \"Value that triggers a violation.\"\n            },\n            \"ThresholdDuration\": {\n              \"type\": \"integer\",\n              \"description\": \"The duration, in seconds, that the threshold must violate for in order to create a violation\"\n            },\n            \"ThresholdOccurrences\": {\n              \"type\": \"string\",\n              \"description\": \"How many data points must be in violation for the specified thresholdDuration\",\n              \"enum\": [\n                \"ALL\",\n                \"AT_LEAST_ONCE\"\n              ]\n            }\n          },\n          \"required\": [\n            \"Operator\",\n            \"Priority\",\n            \"Threshold\",\n            \"ThresholdDuration\",\n            \"ThresholdOccurrences\"\n          ],\n          \"additionalProperties\": false\n        },\n        \"ViolationTimeLimitSeconds\": {\n          \"type\": \"integer\",\n          \"description\": \"Duration after which a violation automatically closes in seconds\",\n          \"default\": 259200\n        }\n      },\n      \"required\": [\n        \"Enabled\",\n        \"Name\",\n        \"Nrql\",\n        \"Terms\"\n      ],\n      \"additionalProperties\": false\n    }\n  },\n  \"properties\": {\n    \"AccountId\": {\n      \"type\": \"integer\",\n      \"description\": \"Account ID the alerts condition should belong to.\"\n    },\n    \"ConditionId\": {\n      \"type\": \"integer\",\n      \"description\": \"Alerts Condition ID.\"\n    },\n    \"Condition\": {\n      \"$ref\": \"#/definitions/ConditionInput\"\n    },\n    \"PolicyId\": {\n      \"type\": \"integer\",\n      \"description\": \"Policy ID for the condition.\"\n    }\n  },\n  \"additionalProperties\": false,\n  \"tagging\": {\n    \"taggable\": false\n  },\n  \"required\": [\n    \"AccountId\",\n    \"PolicyId\",\n    \"Condition\"\n  ],\n  \"createOnlyProperties\": [\n    \"/properties/AccountId\",\n    \"/properties/PolicyId\"\n  ],\n  \"readOnlyProperties\": [\n    \"/properties/ConditionId\"\n  ],\n  \"writeOnlyProperties\": [\n    \"/properties/Condition\"\n  ],\n  \"primaryIdentifier\": [\n    \"/properties/AccountId\",\n    \"/properties/PolicyId\",\n    \"/properties/ConditionId\"\n  ],\n  \"handlers\": {\n    \"create\": {\n      \"permissions\": []\n    },\n    \"read\": {\n      \"permissions\": []\n    },\n    \"update\": {\n      \"permissions\": []\n    },\n    \"delete\": {\n      \"permissions\": []\n    },\n    \"list\": {\n      \"permissions\": []\n    }\n  }\n}\n",
  "ProvisioningType": "FULLY_MUTABLE",
  "DeprecatedStatus": "LIVE",
  "RequiredActivatedTypes": [],
  "Visibility": "PUBLIC",
  "SourceUrl": "https://github.com/aws-ia/cloudformation-newrelic-resource-providers.git",
  "DocumentationUrl": "https://github.com/aws-ia/cloudformation-newrelic-resource-providers",
  "TimeCreated": "2023-03-09T18:53:33.052Z",
  "ConfigurationSchema": "{\n    \"properties\": {\n        \"NewRelicAccess\": {\n            \"$ref\": \"#/definitions/NewRelicAccess\"\n        }\n    },\n    \"additionalProperties\": false,\n    \"required\": [\n        \"NewRelicAccess\"\n    ],\n    \"definitions\": {\n        \"NewRelicAccess\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"Endpoint\": {\n                    \"type\": \"string\",\n                    \"description\": \"Endpoint to the NerdGraph API.\"\n                },\n                \"ApiKey\": {\n                    \"type\": \"string\",\n                    \"description\": \"API key for the New Relic NerdGraph.\"\n                }\n            },\n            \"required\": [\n                \"Endpoint\",\n                \"ApiKey\"\n            ],\n            \"additionalProperties\": false\n        },\n        \"ConditionInput\": {\n            \"type\": \"object\",\n            \"description\": \"Input settings for the static NRQL condition.\",\n            \"properties\": {\n                \"Description\": {\n                    \"type\": \"string\",\n                    \"description\": \"The custom violation description.\"\n                },\n                \"Enabled\": {\n                    \"type\": \"boolean\",\n                    \"description\": \"Whether the NRQL condition is enabled.\"\n                },\n                \"Expiration\": {\n                    \"type\": \"object\",\n                    \"description\": \"Settings for how violations are opened or closed when a signal expires.\",\n                    \"properties\": {\n                        \"CloseViolationsOnExpiration\": {\n                            \"type\": \"boolean\",\n                            \"description\": \"Whether to close all open violations when the signal expires. Defaults to true.\",\n                            \"default\": true\n                        },\n                        \"ExpirationDuration\": {\n                            \"type\": \"integer\",\n                            \"description\": \"The amount of time (in seconds) to wait before considering if the signal has been lost. Max value of 172800 (48 hours).\"\n                        },\n                        \"OpenViolationOnExpiration\": {\n                            \"type\": \"boolean\",\n                            \"description\": \"Whether to create a new \\\"lost signal\\\" violation to capture that the signal expired. Defaults to false.\",\n                            \"default\": false\n                        }\n                    },\n                    \"additionalProperties\": false\n                },\n                \"Name\": {\n                    \"type\": \"string\",\n                    \"description\": \"Name of the NRQL condition.\"\n                },\n                \"Nrql\": {\n                    \"type\": \"object\",\n                    \"description\": \"The NRQL query that defines the signal for the condition.\",\n                    \"properties\": {\n                        \"Query\": {\n                            \"type\": \"string\",\n                            \"description\": \"NRQL syntax that defines the query.\"\n                        }\n                    },\n                    \"required\": [\n                        \"Query\"\n                    ],\n                    \"additionalProperties\": false\n                },\n                \"RunbookUrl\": {\n                    \"type\": \"string\",\n                    \"description\": \"Runbook URL.\"\n                },\n                \"Signal\": {\n                    \"type\": \"object\",\n                    \"description\": \"Configuration that defines the signal that the NRQL condition will use to evaluate.\",\n                    \"properties\": {\n                        \"AggregationDelay\": {\n                            \"type\": \"integer\",\n                            \"default\": 120,\n                            \"description\": \"How long we wait for data that belongs in each aggregation window\"\n                        },\n                        \"AggregationMethod\": {\n                            \"type\": \"string\",\n                            \"enum\": [\n                                \"CADENCE\",\n                                \"EVENT_FLOW\",\n                                \"EVENT_TIMER\"\n                            ],\n                            \"description\": \"The method that determines when we consider an aggregation window to be complete so that we can evaluate the signal for violations\",\n                            \"default\": \"EVENT_FLOW\"\n                        },\n                        \"AggregationTimer\": {\n                            \"type\": \"integer\",\n                            \"description\": \"How long we wait after each data point arrives to make sure we've processed the whole batch\",\n                            \"default\": 60\n                        },\n                        \"AggregationWindow\": {\n                            \"description\": \"Aggregation window controls the duration of the time window used to evaluate the NRQL query, in seconds\",\n                            \"type\": \"integer\",\n                            \"default\": 60\n                        },\n                        \"FillOption\": {\n                            \"description\": \"Option that determines the type of value that should be used to fill gaps (empty windows)\",\n                            \"type\": \"string\",\n                            \"enum\": [\n                                \"LAST_VALUE\",\n                                \"NONE\",\n                                \"STATIC\"\n                            ],\n                            \"default\": \"STATIC\"\n                        },\n                        \"FillValue\": {\n                            \"description\": \"If using the static fill option, this the value used for filling\",\n                            \"type\": \"integer\",\n                            \"default\": 0\n                        },\n                        \"SlideBy\": {\n                            \"description\": \"This setting gathers data in overlapping time windows to smooth the chart line, making it easier to spot trends\",\n                            \"type\": \"integer\"\n                        }\n                    },\n                    \"additionalProperties\": false\n                },\n                \"Terms\": {\n                    \"type\": \"object\",\n                    \"description\": \"List of critical and warning terms for the condition\",\n                    \"properties\": {\n                        \"Operator\": {\n                            \"type\": \"string\",\n                            \"description\": \"Operator used to compare against the threshold.\",\n                            \"enum\": [\n                                \"ABOVE\",\n                                \"ABOVE_OR_EQUALS\",\n                                \"BELOW\",\n                                \"BELOW_OR_EQUALS\",\n                                \"EQUALS\",\n                                \"NOT_EQUALS\"\n                            ]\n                        },\n                        \"Priority\": {\n                            \"type\": \"string\",\n                            \"description\": \"Priority determines whether notifications will be sent for violations or not.\",\n                            \"enum\": [\n                                \"CRITICAL\",\n                                \"WARNING\"\n                            ]\n                        },\n                        \"Threshold\": {\n                            \"type\": \"integer\",\n                            \"description\": \"Value that triggers a violation.\"\n                        },\n                        \"ThresholdDuration\": {\n                            \"type\": \"integer\",\n                            \"description\": \"The duration, in seconds, that the threshold must violate for in order to create a violation\"\n                        },\n                        \"ThresholdOccurrences\": {\n                            \"type\": \"string\",\n                            \"description\": \"How many data points must be in violation for the specified thresholdDuration\",\n                            \"enum\": [\n                                \"ALL\",\n                                \"AT_LEAST_ONCE\"\n                            ]\n                        }\n                    },\n                    \"required\": [\n                        \"Operator\",\n                        \"Priority\",\n                        \"Threshold\",\n                        \"ThresholdDuration\",\n                        \"ThresholdOccurrences\"\n                    ],\n                    \"additionalProperties\": false\n                },\n                \"ViolationTimeLimitSeconds\": {\n                    \"type\": \"integer\",\n                    \"description\": \"Duration after which a violation automatically closes in seconds\",\n                    \"default\": 259200\n                }\n            },\n            \"required\": [\n                \"Enabled\",\n                \"Name\",\n                \"Nrql\",\n                \"Terms\"\n            ],\n            \"additionalProperties\": false\n        }\n    },\n    \"typeName\": \"NewRelic::Alert::NrqlConditionStatic\"\n}",
  "PublisherId": "c830e97710da0c9954d80ba8df021e5439e7134b",
  "LatestPublicVersion": "1.1.0",
  "IsActivated": false
}